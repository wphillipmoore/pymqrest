# Generation scripts

Several artifacts in the repository are generated from the
`MAPPING_DATA` structure in `src/pymqrest/mapping_data.py`. This page
documents how to regenerate them.

## Mapping data

The `MAPPING_DATA` dictionary contains all qualifier definitions,
attribute name mappings, value mappings, and command metadata. It is
generated by:

```bash
uv run python3 scripts/dev/build_mapping_data.py
```

This script extracts mapping information from IBM MQ documentation and
produces `src/pymqrest/mapping_data.py`.

## Command methods

The MQSC command wrapper methods in `src/pymqrest/commands.py` are
generated from the command definitions in `MAPPING_DATA`:

```bash
uv run python3 scripts/dev/generate_commands.py
```

The generated methods live between the `# BEGIN GENERATED MQSC METHODS`
and `# END GENERATED MQSC METHODS` markers in `commands.py`.

## Mapping documentation

The per-qualifier mapping reference pages in `docs/sphinx/mappings/` are
generated from `MAPPING_DATA`:

```bash
uv run python3 scripts/dev/generate_mapping_docs.py
```

This produces one Markdown page per qualifier (48 total) plus an index
page. The pages are committed to the repository so they are viewable on
GitHub without building the Sphinx documentation.

## Regeneration workflow

When the mapping data changes, regenerate all downstream artifacts:

```bash
# 1. Regenerate mapping data from source documentation
uv run python3 scripts/dev/build_mapping_data.py

# 2. Regenerate command methods
uv run python3 scripts/dev/generate_commands.py

# 3. Regenerate mapping documentation
uv run python3 scripts/dev/generate_mapping_docs.py

# 4. Verify everything still passes
uv run python3 scripts/dev/validate_local.py
```
